<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í‚¤ì¦ˆ ì‰ê¸€ë¦¬ì‹œ ê²Œì„</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');

        body {
            font-family: 'Jua', sans-serif;
            background-color: #E0F7FA;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            user-select: none; /* ë“œë˜ê·¸ ë°©ì§€ */
        }

        .container {
            background: white;
            width: 90%;
            max-width: 450px;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border: 5px solid #FFB300;
        }

        /* í™”ë©´ ì „í™˜ìš© */
        .screen { display: none; }
        .screen.active { display: block; animation: fadeIn 0.5s; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        h1 { color: #FF7043; margin-bottom: 30px; }
        h2 { color: #0288D1; }

        .btn {
            background-color: #FFB300;
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            font-size: 1.3rem;
            border-radius: 15px;
            margin: 10px 0;
            cursor: pointer;
            font-family: 'Jua', sans-serif;
            box-shadow: 0 4px 0 #F57F17;
        }
        .btn:active { transform: translateY(4px); box-shadow: none; }
        .btn-blue { background-color: #4FC3F7; box-shadow: 0 4px 0 #0288D1; }
        .btn-red { background-color: #FF7043; box-shadow: 0 4px 0 #D84315; margin-top: 20px;}

        /* í€´ì¦ˆ ìŠ¤íƒ€ì¼ */
        .quiz-word { font-size: 2.5rem; color: #4FC3F7; margin: 20px 0; font-weight: bold; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .opt-btn {
            background: white; border: 2px solid #ddd; padding: 15px;
            border-radius: 10px; cursor: pointer; font-family: 'Jua', sans-serif; font-size: 1.1rem;
        }
        .opt-btn:hover { background: #E1F5FE; }

        /* í–‰ë§¨ ìŠ¤íƒ€ì¼ */
        .lives { font-size: 1.5rem; margin-bottom: 10px; }
        .letters { font-size: 2rem; letter-spacing: 5px; margin: 20px 0; font-weight: bold; color: #333; }
        .keyboard { display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; }
        .key {
            width: 30px; height: 30px; background: #eee; border: none; border-radius: 5px;
            cursor: pointer; font-weight: bold;
        }
        .key:disabled { opacity: 0.3; }

        /* ì ìˆ˜íŒ */
        .status { background: #FFF3E0; padding: 10px; border-radius: 10px; margin-bottom: 20px; font-weight: bold; color: #FF6F00;}
    </style>
</head>
<body>

<div class="container">
    <div class="status">
        â­ ì ìˆ˜: <span id="score">0</span> | ğŸ… ë ˆë²¨: <span id="level">ìƒˆì‹¹</span>
    </div>

    <div id="screen-menu" class="screen active">
        <h1>ğŸˆ ì˜ì–´ ë†€ì´í„°</h1>
        <p>ì–´ë–¤ ê²Œì„ì„ í• ê¹Œìš”?</p>
        <button class="btn" onclick="window.startGame('quiz')">ğŸ“ ë‹¨ì–´ í€´ì¦ˆ</button>
        <button class="btn btn-blue" onclick="window.startGame('hangman')">ğŸ”¤ ìŠ¤í ë§ ë§ì¶”ê¸°</button>
    </div>

    <div id="screen-quiz" class="screen">
        <h2>ëœ»ì„ ë§ì¶°ë³´ì„¸ìš”!</h2>
        <div class="quiz-word" id="quiz-text">Apple</div>
        <div class="options" id="quiz-options"></div>
        <button class="btn btn-red" onclick="window.goHome()">ğŸ  í™ˆìœ¼ë¡œ</button>
    </div>

    <div id="screen-hangman" class="screen">
        <h2>ë¹ˆì¹¸ ì±„ìš°ê¸°</h2>
        <div class="lives" id="hm-lives">â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸</div>
        <div id="hm-hint" style="color:#888;">íŒíŠ¸: ì‚¬ê³¼</div>
        <div class="letters" id="hm-word">_ _ _ _ _</div>
        <div class="keyboard" id="hm-keyboard"></div>
        <button class="btn btn-red" onclick="window.goHome()">ğŸ  í™ˆìœ¼ë¡œ</button>
    </div>
</div>

<script>
    // [ìë°”ìŠ¤í¬ë¦½íŠ¸ ì˜ì—­]
    
    // ë°ì´í„° (ìˆ˜ì • ê°€ëŠ¥)
    const words = [
        { en: "APPLE", ko: "ì‚¬ê³¼" },
        { en: "BANANA", ko: "ë°”ë‚˜ë‚˜" },
        { en: "SCHOOL", ko: "í•™êµ" },
        { en: "CAT", ko: "ê³ ì–‘ì´" },
        { en: "DOG", ko: "ê°•ì•„ì§€" },
        { en: "HAPPY", ko: "í–‰ë³µí•œ" },
        { en: "BOOK", ko: "ì±…" },
        { en: "SUMMER", ko: "ì—¬ë¦„" }
    ];

    let score = 0;
    let currentQuiz = null;
    let hangmanTarget = "";
    let hangmanLives = 5;
    let guessed = [];

    // ì „ì—­ í•¨ìˆ˜ë¡œ ì„ ì–¸ (HTML ë²„íŠ¼ì´ ì°¾ì„ ìˆ˜ ìˆê²Œ windowì— í• ë‹¹)
    window.startGame = function(mode) {
        if(mode === 'quiz') {
            showScreen('screen-quiz');
            initQuiz();
        } else if(mode === 'hangman') {
            showScreen('screen-hangman');
            initHangman();
        }
    };

    window.goHome = function() {
        showScreen('screen-menu');
    };

    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function updateScore(pt) {
        score += pt;
        if(score < 0) score = 0;
        document.getElementById('score').innerText = score;
        
        let level = "ìƒˆì‹¹";
        if(score >= 50) level = "ë‚˜ë¬´";
        if(score >= 100) level = "ë§ˆìŠ¤í„°";
        document.getElementById('level').innerText = level;
    }

    // --- í€´ì¦ˆ ë¡œì§ ---
    function initQuiz() {
        currentQuiz = words[Math.floor(Math.random() * words.length)];
        document.getElementById('quiz-text').innerText = currentQuiz.en;
        
        // ë³´ê¸° ìƒì„±
        let opts = [currentQuiz.ko];
        while(opts.length < 4) {
            let rnd = words[Math.floor(Math.random() * words.length)].ko;
            if(!opts.includes(rnd)) opts.push(rnd);
        }
        opts.sort(() => Math.random() - 0.5);

        const container = document.getElementById('quiz-options');
        container.innerHTML = '';
        opts.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = opt;
            btn.onclick = function() { checkQuiz(opt); };
            container.appendChild(btn);
        });
    }

    function checkQuiz(ans) {
        if(ans === currentQuiz.ko) {
            alert("ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰ (+10ì )");
            updateScore(10);
            initQuiz();
        } else {
            alert("í‹€ë ¸ì–´ìš” ã… ã…  (-5ì )");
            updateScore(-5);
        }
    }

    // --- í–‰ë§¨ ë¡œì§ ---
    function initHangman() {
        let picked = words[Math.floor(Math.random() * words.length)];
        hangmanTarget = picked.en; // ì´ë¯¸ ëŒ€ë¬¸ì
        document.getElementById('hm-hint').innerText = "íŒíŠ¸: " + picked.ko;
        hangmanLives = 5;
        guessed = [];
        
        renderHangman();
        renderKeyboard();
    }

    function renderHangman() {
        let display = "";
        let win = true;
        
        // í•˜íŠ¸
        let hearts = "";
        for(let i=0; i<hangmanLives; i++) hearts += "â¤ï¸";
        document.getElementById('hm-lives').innerText = hearts;

        // ê¸€ì
        for(let char of hangmanTarget) {
            if(guessed.includes(char)) {
                display += char + " ";
            } else {
                display += "_ ";
                win = false;
            }
        }
        document.getElementById
